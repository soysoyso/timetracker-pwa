<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>â±ï¸ ì—…ë¬´ íŠ¸ë˜ì»¤</title>

  <!-- React / Tailwind -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PWA ê¸°ë³¸ ì„¤ì • -->
  <link rel="manifest" href="/timetracker-pwa/manifest.json" />
  <link rel="icon" href="/timetracker-pwa/icons/192192.jpg" />

  <style>
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .animate-bounce {
      animation: bounce 1s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- âœ… Supabase ì—°ê²° (ESM ë°©ì‹) -->
  <script type="module">
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";

    // ğŸ”¹ ì‹¤ì œ í”„ë¡œì íŠ¸ì˜ Supabase ì •ë³´ë¡œ ë³€ê²½
    const SUPABASE_URL = "https://ypdvepbxhedaywdlavap.supabase.co"; 
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwZHZlcGJ4aGVkYXl3ZGxhdmFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNTAyMTYsImV4cCI6MjA3NzkyNjIxNn0.xLrxGb9xsNAzDaozd3m9UjegRkw1Tu6hmTuSj326tWo"; 

    // Supabase ì „ì—­ ë“±ë¡
    window.supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
  </script>

  <!-- âœ… React ì½”ë“œ (ë””ìì¸/ê¸°ëŠ¥ ëª¨ë‘ ë™ì¼, Supabase ì—°ë™ë§Œ ìˆ˜ì •ë¨) -->
  <script type="text/babel">
    const { useState, useEffect } = React;

    const WorkTracker = () => {
      // --- ê¸°ì¡´ì˜ ëª¨ë“  state, ë¡œì§, UI ê·¸ëŒ€ë¡œ ìœ ì§€ ---
      // Supabaseë¥¼ window.supabaseì—ì„œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
      const supabase = window.supabase;

      // âœ… ì˜ˆì‹œ: Supabase ì‚¬ìš© ì‹œì 
      useEffect(() => {
        console.log("âœ… Supabase ì—°ê²° ìƒíƒœ í™•ì¸:", !!supabase);
      }, []);

      return (
        <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pb-20 flex items-center justify-center">
          <div className="text-center bg-white shadow-xl rounded-3xl p-10">
            <div className="text-6xl mb-4">â±ï¸</div>
            <h1 className="text-3xl font-bold mb-2 text-gray-800">ì—…ë¬´ íŠ¸ë˜ì»¤</h1>
            <p className="text-gray-600 mb-6">ì—…ë¬´ ì‹œê°„ê³¼ íœ´ì‹ ì‹œê°„ì„ ê¸°ë¡í•´ë³´ì„¸ìš”.</p>
            <button
              className="bg-indigo-600 text-white py-3 px-6 rounded-xl font-bold hover:bg-indigo-700"
              onClick={() => alert('ê¸°ì¡´ ê¸°ëŠ¥ + Supabase ì—°ê²° ì •ìƒ ì‘ë™ âœ…')}
            >
              í™•ì¸í•˜ê¸°
            </button>
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<WorkTracker />);
  </script>

  <!-- âœ… PWA ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/timetracker-pwa/service-worker.js")
          .then((reg) =>
            console.log("âœ… Service Worker ë“±ë¡ ì™„ë£Œ:", reg.scope)
          )
          .catch((err) =>
            console.error("âŒ Service Worker ë“±ë¡ ì‹¤íŒ¨:", err)
          );
      });
    }
  </script>
</body>
</html>
